@* --- INICIO DE SelectorEquipos.razor --- *@
<h6 class="mb-3 border-bottom pb-2">Equipos requeridos</h6>
<div class="d-flex flex-wrap gap-2 mb-3">
    @* Botones fijos para los equipos principales *@
    @foreach (var equipoPrincipal in new List<string> { "Arco C", "Torre Lap", "Sutura mecánica" })
    {
        <button type="button" class="btn @(EquiposSeleccionados.Contains(equipoPrincipal) ? "btn-secondary" : "btn-outline-secondary")"
                @onclick="() => ToggleEquipoDirecto(equipoPrincipal)">
            @equipoPrincipal
        </button>
    }
</div>

<div class="mb-4">
    <button class="btn btn-outline-primary btn-sm" @onclick="AbrirModalEquipos">
        <i class="bi bi-plus-circle me-1"></i> Añadir equipamientos
    </button>
</div>

@* Mostrar equipos adicionales como badges *@
<div class="d-flex flex-wrap gap-2 mb-4">
    @foreach (var equipo in EquiposSeleccionados.Except(new List<string> { "Arco C", "Torre Lap", "Sutura mecánica" }))
    {
        <span class="badge bg-secondary p-2">
            @equipo <button type="button" class="btn-close btn-close-white ms-1" aria-label="Cerrar" @onclick="() => RemoverEquipo(equipo)"></button>
        </span>
    }
</div>


@* Ventanar emergentes o pop-ups, se deben cmabiar en el proximo commit para qeu esten bien posicionados*@
<div class="modal @(MostrarModalEquipos ? "show d-block" : "")" tabindex="-1" role="dialog" @onclick="CerrarModalEquipos">
    <div class="modal-dialog" role="document" @onclick:stopPropagation="true">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Añadir Equipamiento</h5>
                <button type="button" class="btn-close" @onclick="CerrarModalEquipos" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                @foreach (var equipo in OpcionesEquipos)
                {
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" id="equipo@(equipo.Replace(" ", "-").Replace("(", "").Replace(")", ""))"
                               @onchange='@((e) => ToggleEquipoDesdeModal(equipo, (bool)e.Value))'
                               checked='@EquiposSeleccionados.Contains(equipo)'>
                        <label class="form-check-label" for="equipo@(equipo.Replace(" ", "-").Replace("(", "").Replace(")", ""))">@equipo</label>
                    </div>
                }
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" @onclick="CerrarModalEquipos">Listo</button>
            </div>
        </div>
    </div>
</div>